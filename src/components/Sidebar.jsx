import React, { useState, useEffect } from 'react';
import logo from '../logo.png';

const Dialog = ({ open }) => {
  const [data, setData] = useState('')

  useEffect(() => {
    if (open)
    fetch('http://50.16.40.172:5001/check-operational-status')
      .then(r => r.text()
        .then(txt => setData(String(txt))))
  }, [open])

  return (
    <dialog style={{width: '400px', minHeight: '400px', zIndex: '999', color: 'white', borderRadius: '16px'}} open={open}>
      {data || 'Carregando...'}
    </dialog>
  )
}

const Sidebar = () => {
  const [isOpen, setIsOpen] = useState(false);

  const [dialogOpen, setDialogOpen] = useState(false)

  const toggleSidebar = () => {
    setIsOpen(!isOpen);
  };

  return (
    <>
      <Dialog open={dialogOpen} />

      <button className="hamburger" onClick={toggleSidebar}>
        ☰
      </button>
      <div className={`sidebar ${isOpen ? 'active' : ''}`}>
        <div className="TopoSidebar">
          <img src={logo} alt="Logo" />
          <h1><i>DataCut</i></h1>
        </div>
        <div className='BaixoSidebar'>
          <a href="#" className='Selecionado'>
            <svg className='svgSidebar' viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.16289 2.73277C8.11927 2.68601 8.06124 2.65991 8.00088 2.65991C7.94052 2.65991 7.88248 2.68601 7.83887 2.73277L2.44531 8.50714C2.42241 8.53169 2.40418 8.5612 2.39175 8.59388C2.37931 8.62655 2.37291 8.66172 2.37295 8.69724L2.37207 14.1167C2.37207 14.3953 2.47084 14.6626 2.64666 14.8596C2.82247 15.0566 3.06093 15.1673 3.30957 15.1673H6.125C6.24932 15.1673 6.36855 15.112 6.45645 15.0135C6.54436 14.915 6.59375 14.7813 6.59375 14.642V10.1767C6.59375 10.107 6.61844 10.0402 6.6624 9.99097C6.70635 9.94171 6.76596 9.91404 6.82812 9.91404H9.17187C9.23403 9.91404 9.29365 9.94171 9.3376 9.99097C9.38155 10.0402 9.40625 10.107 9.40625 10.1767V14.642C9.40625 14.7813 9.45563 14.915 9.54354 15.0135C9.63145 15.112 9.75068 15.1673 9.875 15.1673H12.6893C12.9379 15.1673 13.1764 15.0566 13.3522 14.8596C13.528 14.6626 13.6268 14.3953 13.6268 14.1167V8.69724C13.6268 8.66172 13.6204 8.62655 13.608 8.59388C13.5955 8.5612 13.5773 8.53169 13.5544 8.50714L8.16289 2.73277Z" />
              <path d="M14.8821 7.42423L12.6907 5.07469V1.50934C12.6907 1.37001 12.6413 1.23639 12.5534 1.13788C12.4655 1.03936 12.3463 0.98401 12.222 0.98401H10.8157C10.6914 0.98401 10.5722 1.03936 10.4843 1.13788C10.3964 1.23639 10.347 1.37001 10.347 1.50934V2.56L8.65011 0.741701C8.49132 0.561775 8.25518 0.458679 8.00001 0.458679C7.74571 0.458679 7.51016 0.561775 7.35138 0.742029L1.11993 7.42357C0.937706 7.62057 0.914855 7.94464 1.08068 8.15805C1.12232 8.21192 1.1733 8.25573 1.23053 8.28681C1.28776 8.3179 1.35003 8.33561 1.41356 8.33887C1.47709 8.34212 1.54054 8.33085 1.60006 8.30575C1.65958 8.28065 1.71392 8.24224 1.75978 8.19285L7.83888 1.6827C7.88249 1.63594 7.94053 1.60984 8.00089 1.60984C8.06125 1.60984 8.11928 1.63594 8.1629 1.6827L14.2426 8.19285C14.3321 8.2891 14.4521 8.34163 14.5762 8.33892C14.7002 8.33622 14.8183 8.27849 14.9044 8.17841C15.0843 7.96959 15.0693 7.62484 14.8821 7.42423Z" />
            </svg>
            Dashboard</a>
          {/* 
          <a href="#">
            <svg className='svgSidebar' viewBox="0 0 18 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.5 14.5211H10.5V16.2722H4.5V14.5211ZM4.5 10.1434H13.5V11.8945H4.5V10.1434ZM4.5 18.8989H8.25V20.65H4.5V18.8989Z"/>
              <path d="M15.75 3.13898H13.5V2.26343C13.5 1.79901 13.342 1.35361 13.0607 1.02521C12.7794 0.69682 12.3978 0.512329 12 0.512329H6C5.60218 0.512329 5.22064 0.69682 4.93934 1.02521C4.65804 1.35361 4.5 1.79901 4.5 2.26343V3.13898H2.25C1.85218 3.13898 1.47064 3.32347 1.18934 3.65187C0.908035 3.98026 0.75 4.42566 0.75 4.89008V23.2766C0.75 23.7411 0.908035 24.1865 1.18934 24.5149C1.47064 24.8433 1.85218 25.0278 2.25 25.0278H15.75C16.1478 25.0278 16.5294 24.8433 16.8107 24.5149C17.092 24.1865 17.25 23.7411 17.25 23.2766V4.89008C17.25 4.42566 17.092 3.98026 16.8107 3.65187C16.5294 3.32347 16.1478 3.13898 15.75 3.13898ZM6 2.26343H12V5.76563H6V2.26343ZM15.75 23.2766H2.25V4.89008H4.5V7.51674H13.5V4.89008H15.75V23.2766Z"/>
            </svg>
            Relatório</a> */}

          <a onClick={() => setDialogOpen(p => !p)}>
            <svg className='svgSidebar' viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.258 1.48187L18.5933 18.4325C18.6701 18.5887 18.7105 18.7659 18.7105 18.9462C18.7105 19.1265 18.6701 19.3037 18.5933 19.4598C18.5165 19.616 18.406 19.7457 18.273 19.8359C18.14 19.926 17.9891 19.9735 17.8355 19.9735H1.16502C1.01142 19.9735 0.860538 19.926 0.727525 19.8359C0.594511 19.7457 0.484056 19.616 0.407261 19.4598C0.330467 19.3037 0.290038 19.1265 0.290039 18.9462C0.29004 18.7659 0.330471 18.5887 0.407267 18.4325L8.74252 1.48187C8.81932 1.32571 8.92977 1.19604 9.06279 1.10588C9.1958 1.01573 9.34668 0.968262 9.50027 0.968262C9.65385 0.968262 9.80474 1.01573 9.93775 1.10588C10.0708 1.19604 10.1812 1.32571 10.258 1.48187ZM2.68052 17.9189H16.32L9.50027 4.05015L2.68052 17.9189ZM8.62527 14.8369H10.3753V16.8916H8.62527V14.8369ZM8.62527 7.64575H10.3753V12.7823H8.62527V7.64575Z" />
            </svg>
            Alertas</a>

          <a href="#">
            <svg className='svgSidebar' width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.3485 17.7171H2.875C2.68438 17.7171 2.50156 17.6285 2.36677 17.4709C2.23198 17.3133 2.15625 17.0995 2.15625 16.8765V2.58755H0.71875C0.528126 2.58755 0.345309 2.499 0.210517 2.34137C0.0757252 2.18374 0 1.96994 0 1.74702C0 1.5241 0.0757252 1.31031 0.210517 1.15268C0.345309 0.99505 0.528126 0.906494 0.71875 0.906494H20.8438C21.0344 0.906494 21.2172 0.99505 21.352 1.15268C21.4868 1.31031 21.5625 1.5241 21.5625 1.74702C21.5625 1.96994 21.4868 2.18374 21.352 2.34137C21.2172 2.499 21.0344 2.58755 20.8438 2.58755H19.4062V16.8765C19.4062 17.0995 19.3305 17.3133 19.1957 17.4709C19.0609 17.6285 18.8781 17.7171 18.6875 17.7171H14.2226L16.7124 22.7602H15.0535L12.5637 17.7171H9.00737L6.51762 22.7602H4.85875L7.3485 17.7171ZM17.9688 2.58755H3.59375V16.036H17.9688V2.58755ZM6.97762 11.5879C6.9108 11.6661 6.83146 11.7281 6.74415 11.7704C6.65684 11.8127 6.56326 11.8344 6.46875 11.8344C6.37424 11.8344 6.28066 11.8127 6.19335 11.7704C6.10604 11.7281 6.0267 11.6661 5.95988 11.5879C5.89305 11.5098 5.84004 11.417 5.80387 11.3149C5.76771 11.2128 5.74909 11.1034 5.74909 10.9928C5.74909 10.8823 5.76771 10.7729 5.80387 10.6708C5.84004 10.5687 5.89305 10.4759 5.95988 10.3977L9.27619 6.52123L12.0937 8.99238L14.5331 5.42518C14.5902 5.33313 14.6627 5.25558 14.7462 5.19724C14.8296 5.1389 14.9224 5.10097 15.0187 5.08575C15.1151 5.07053 15.2131 5.07833 15.3068 5.10869C15.4005 5.13905 15.488 5.19133 15.5639 5.26237C15.6399 5.33341 15.7027 5.42173 15.7486 5.52198C15.7945 5.62223 15.8225 5.73234 15.831 5.84562C15.8394 5.95891 15.8281 6.07302 15.7978 6.18106C15.7674 6.2891 15.7186 6.38881 15.6544 6.47416L12.3453 11.3139L9.41131 8.74022L6.97762 11.5863V11.5879Z" fill="#0075FF" />
            </svg>
            Análise de Dados</a>

          <p>Perfil e Configurações de Usuário</p>

          {/* <a href="#">
            <svg className='svgSidebar' width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.24534 1.66895C8.67522 0.979123 7.87893 0.599243 7.00003 0.599243C6.11643 0.599243 5.31751 0.976824 4.75003 1.66238C4.1764 2.35549 3.8969 3.29747 3.96253 4.31464C4.09261 6.3214 5.4552 7.95387 7.00003 7.95387C8.54485 7.95387 9.9051 6.32173 10.0372 4.3153C10.1037 3.30732 9.82249 2.36731 9.24534 1.66895Z" fill="#0075FF"/>
              <path d="M12.1564 15.3077H1.84392C1.70894 15.3097 1.57526 15.2779 1.45262 15.2147C1.32997 15.1515 1.22145 15.0584 1.13493 14.9423C0.944503 14.6872 0.867746 14.3388 0.924582 13.9865C1.17185 12.4493 1.94353 11.158 3.15642 10.2514C4.23396 9.4467 5.5989 9.00378 7.00016 9.00378C8.40143 9.00378 9.76637 9.44703 10.8439 10.2514C12.0568 11.1576 12.8285 12.449 13.0757 13.9862C13.1326 14.3385 13.0558 14.6869 12.8654 14.942C12.7789 15.0582 12.6704 15.1513 12.5478 15.2146C12.4251 15.2778 12.2914 15.3097 12.1564 15.3077V15.3077Z" fill="#0075FF"/>
            </svg>
            Perfil</a> */}

          <a href="#">
            <svg className='svgSidebar' width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.5001 6.65861C9.57301 6.65861 8.66673 6.96671 7.89587 7.54395C7.12501 8.12119 6.52421 8.94165 6.16942 9.90156C5.81463 10.8615 5.72181 11.9177 5.90268 12.9368C6.08354 13.9558 6.52998 14.8919 7.18554 15.6266C7.8411 16.3613 8.67633 16.8616 9.58562 17.0643C10.4949 17.267 11.4374 17.1629 12.2939 16.7653C13.1505 16.3677 13.8826 15.6944 14.3976 14.8305C14.9127 13.9666 15.1876 12.9509 15.1876 11.9119C15.1863 10.5191 14.692 9.18374 13.8132 8.19887C12.9344 7.214 11.7429 6.66006 10.5001 6.65861ZM10.5001 15.4141C9.88204 15.4141 9.27785 15.2087 8.76395 14.8239C8.25005 14.4391 7.84951 13.8921 7.61298 13.2522C7.37646 12.6122 7.31457 11.908 7.43515 11.2287C7.55573 10.5493 7.85336 9.92528 8.2904 9.43548C8.72744 8.94569 9.28426 8.61214 9.89045 8.47701C10.4966 8.34187 11.125 8.41123 11.696 8.6763C12.267 8.94138 12.7551 9.39026 13.0984 9.9662C13.4418 10.5421 13.6251 11.2192 13.6251 11.9119C13.6251 12.8408 13.2959 13.7316 12.7098 14.3883C12.1238 15.0451 11.3289 15.4141 10.5001 15.4141ZM19.0939 12.1483C19.0978 11.9907 19.0978 11.8331 19.0939 11.6755L20.5509 9.63548C20.6273 9.52837 20.6802 9.40265 20.7053 9.26844C20.7304 9.13423 20.727 8.99529 20.6954 8.86281C20.4566 7.85658 20.0993 6.89046 19.6329 5.98991C19.5719 5.87206 19.4871 5.77181 19.3854 5.69714C19.2836 5.62247 19.1678 5.57544 19.047 5.5598L16.7306 5.27086C16.6342 5.15704 16.5366 5.0476 16.4376 4.94253L16.1642 2.33996C16.1501 2.20448 16.108 2.07456 16.0412 1.96055C15.9744 1.84654 15.8847 1.7516 15.7794 1.6833C14.9755 1.16162 14.1135 0.761585 13.2159 0.493641C13.0976 0.458396 12.9736 0.454792 12.8539 0.483117C12.7341 0.511442 12.622 0.570905 12.5265 0.656712L10.711 2.28086H10.2892L8.46886 0.65124C8.37328 0.56562 8.2611 0.506356 8.14134 0.478221C8.02159 0.450087 7.89761 0.453869 7.7794 0.489263C6.8817 0.75743 6.01969 1.15784 5.21593 1.68001C5.11077 1.74844 5.02131 1.84344 4.95469 1.95744C4.88806 2.07144 4.8461 2.2013 4.83214 2.33667L4.57432 4.93706C4.47276 5.04577 4.37511 5.15522 4.28136 5.26539L1.95909 5.56417C1.8382 5.57994 1.72227 5.62713 1.62055 5.702C1.51882 5.77686 1.4341 5.87733 1.37315 5.99538C0.907661 6.89628 0.550714 7.86232 0.311629 8.86828C0.280181 9.00085 0.276964 9.13984 0.302239 9.27405C0.327513 9.40826 0.380572 9.53394 0.457137 9.64096L1.90636 11.6755V12.1483L0.452254 14.1883C0.375856 14.2955 0.322975 14.4212 0.29787 14.5554C0.272766 14.6896 0.276141 14.8285 0.307723 14.961C0.546569 15.9673 0.903874 16.9334 1.37022 17.8339C1.43128 17.9518 1.51605 18.052 1.61777 18.1267C1.71949 18.2014 1.83536 18.2484 1.95616 18.264L4.27257 18.553C4.36957 18.6668 4.46723 18.7762 4.56554 18.8813L4.83604 21.4839C4.85011 21.6194 4.89222 21.7493 4.95902 21.8633C5.02582 21.9773 5.11547 22.0722 5.22081 22.1405C6.02467 22.6622 6.88667 23.0622 7.78429 23.3302C7.90257 23.3654 8.02659 23.369 8.14635 23.3407C8.26611 23.3124 8.37825 23.2529 8.47374 23.1671L10.2892 21.543C10.4298 21.5474 10.5704 21.5474 10.711 21.543L12.5314 23.1759C12.6269 23.2615 12.7391 23.3208 12.8589 23.3489C12.9786 23.377 13.1026 23.3732 13.2208 23.3379C14.1187 23.0702 14.9807 22.6697 15.7843 22.1471C15.8894 22.0787 15.9789 21.9837 16.0455 21.8697C16.1122 21.7557 16.1541 21.6258 16.1681 21.4904L16.4259 18.8944C16.5274 18.7864 16.6251 18.677 16.7189 18.5661L19.0411 18.2597C19.162 18.2439 19.2779 18.1967 19.3797 18.1218C19.4814 18.047 19.5661 17.9465 19.6271 17.8284C20.0926 16.9276 20.4495 15.9615 20.6886 14.9555C20.72 14.823 20.7232 14.684 20.698 14.5498C20.6727 14.4156 20.6196 14.2899 20.5431 14.1829L19.0939 12.1483ZM17.5216 11.4369C17.5382 11.7533 17.5382 12.0705 17.5216 12.3869C17.51 12.6035 17.5705 12.8172 17.6915 12.9867L19.0773 14.9271C18.9182 15.4934 18.7146 16.0428 18.4689 16.5688L16.2618 16.8489C16.0696 16.8728 15.8922 16.9758 15.7638 17.1379C15.5758 17.3748 15.3756 17.5992 15.1642 17.8098C15.0196 17.9537 14.9277 18.1526 14.9064 18.368L14.6612 20.8393C14.192 21.1148 13.7018 21.343 13.1964 21.5211L11.464 19.9681C11.3253 19.8439 11.1531 19.7764 10.9757 19.7766H10.9288C10.6465 19.7951 10.3635 19.7951 10.0812 19.7766C9.88788 19.7635 9.69717 19.8314 9.546 19.967L7.80968 21.5211C7.30434 21.3429 6.81413 21.1147 6.34483 20.8393L6.09483 18.3691C6.0735 18.1537 5.98164 17.9548 5.83702 17.8109C5.62559 17.6003 5.42537 17.3759 5.23741 17.139C5.10902 16.9769 4.93157 16.8739 4.73936 16.85L2.53429 16.5742C2.28837 16.0483 2.08476 15.499 1.92589 14.9326L3.31163 12.991C3.43263 12.8216 3.49319 12.6079 3.48155 12.3913C3.46497 12.0749 3.46497 11.7577 3.48155 11.4413C3.49319 11.2247 3.43263 11.011 3.31163 10.8416L1.92589 8.89674C2.08491 8.33041 2.28851 7.78103 2.53429 7.25508L4.73839 6.9749C4.93059 6.95099 5.10805 6.84805 5.23643 6.68597C5.42439 6.44902 5.62461 6.22464 5.83604 6.01399C5.98124 5.87001 6.07347 5.67068 6.09483 5.45473L6.33995 2.98458C6.80919 2.70898 7.29941 2.4808 7.80479 2.30275L9.53722 3.85576C9.68838 3.99136 9.87909 4.05923 10.0724 4.04619C10.3547 4.0276 10.6377 4.0276 10.92 4.04619C11.1133 4.05923 11.304 3.99136 11.4552 3.85576L13.1905 2.30275C13.6959 2.48097 14.1861 2.70914 14.6554 2.98458L14.9054 5.45473C14.9267 5.67013 15.0186 5.86901 15.1632 6.01289C15.3746 6.22354 15.5748 6.44792 15.7628 6.68488C15.8912 6.84695 16.0686 6.9499 16.2608 6.97381L18.4659 7.24851C18.7118 7.77439 18.9154 8.32378 19.0743 8.89017L17.6886 10.8317C17.5664 11.0025 17.5058 11.2185 17.5187 11.4369H17.5216Z" fill="#0075FF" />
            </svg>
            Configurações</a>

          <a href="#">
            <svg className='svgSidebar' width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.4933 0.841957C13.4879 0.812919 13.4753 0.786191 13.4569 0.764907C13.4384 0.743624 13.415 0.728666 13.3892 0.721788C11.6733 0.251617 7.70859 1.92709 5.56054 4.33343C5.17742 4.75933 4.82815 5.22184 4.5167 5.71571C3.85429 5.65004 3.19189 5.70487 2.62734 5.98067C1.03447 6.76637 0.570701 8.81647 0.441501 9.69837C0.434173 9.74664 0.436937 9.79615 0.449577 9.84302C0.462216 9.88989 0.484386 9.93284 0.514343 9.96848C0.5443 10.0041 0.581227 10.0315 0.622219 10.0484C0.663212 10.0654 0.707151 10.0714 0.750583 10.0661L3.30849 9.74992C3.31032 9.96604 3.32196 10.1819 3.34336 10.3967C3.35623 10.5459 3.41531 10.6853 3.51035 10.7907L4.50087 11.8982C4.59503 12.0046 4.71938 12.0707 4.85244 12.0853C5.04303 12.1092 5.23459 12.1223 5.42636 12.1244L5.1457 14.9875C5.14102 15.0361 5.14646 15.0853 5.16159 15.1312C5.17673 15.1771 5.20115 15.2185 5.23294 15.2521C5.26472 15.2856 5.30302 15.3105 5.34481 15.3247C5.3866 15.3388 5.43076 15.342 5.47382 15.3338C6.25927 15.1927 8.09179 14.6729 8.78876 12.8878C9.03486 12.2551 9.08525 11.5163 9.02841 10.7776C9.47016 10.4285 9.88393 10.037 10.265 9.60742C12.4198 7.20469 13.9063 2.86054 13.4933 0.841957ZM8.11523 6.74109C7.91847 6.52072 7.78445 6.23991 7.73011 5.93417C7.67577 5.62843 7.70357 5.3115 7.80998 5.02346C7.91639 4.73543 8.09663 4.48923 8.3279 4.31601C8.55918 4.14279 8.8311 4.05034 9.10927 4.05034C9.38744 4.05034 9.65936 4.14279 9.89064 4.31601C10.1219 4.48923 10.3022 4.73543 10.4086 5.02346C10.515 5.3115 10.5428 5.62843 10.4884 5.93417C10.4341 6.23991 10.3001 6.52072 10.1033 6.74109C9.97284 6.88752 9.81789 7.00368 9.64732 7.08294C9.47676 7.1622 9.29392 7.203 9.10927 7.203C8.92462 7.203 8.74179 7.1622 8.57122 7.08294C8.40065 7.00368 8.2457 6.88752 8.11523 6.74109Z" fill="#0075FF" />
              <path d="M4.43359 12.7004C4.27305 12.8806 4.01553 12.9509 3.70557 13.011C3.00918 13.144 2.39424 12.4696 2.51934 11.6806C2.56709 11.3815 2.7083 10.9622 2.79619 10.8637C2.8154 10.8426 2.82819 10.8152 2.83273 10.7855C2.83728 10.7558 2.83336 10.7252 2.82152 10.6981C2.80968 10.671 2.79053 10.6488 2.76679 10.6346C2.74305 10.6205 2.71592 10.615 2.68926 10.6191C2.29983 10.6725 1.93754 10.8703 1.66006 11.1812C0.971289 11.9537 0.90625 14.8204 0.90625 14.8204C0.90625 14.8204 3.46562 14.7475 4.15439 13.975C4.43261 13.6642 4.60939 13.2576 4.65625 12.8205C4.66709 12.6833 4.51797 12.6015 4.43359 12.7004Z" fill="#0075FF" />
            </svg>
            Logout</a>
        </div>
      </div>
    </>
  );
}

export default Sidebar;
